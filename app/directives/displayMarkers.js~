app.directive('repeatHelloWorld',['$timeout', function (timer) {
    /* Note the injection of the $timeout service */
    return {
        link: function (scope, elem, attrs, ctrl) {
            var hello = function () {                
                for (var i = 0; i < attrs.repeatHelloWorld; i++) {
                    console.log("Hello world!");
                }
            }
            // hello();
            timer(hello, 0);
            // It works even with a delay of 0s
        }
    }   
}]);
